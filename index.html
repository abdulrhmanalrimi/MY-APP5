<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <title>ุงููุญู ุจุจุณุงุทุฉ</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#059669" />

    <!-- ููู ุงูุชูุณููุงุช -->
    <link rel="stylesheet" href="style.css" />
    <!-- ูู ุนูุฏู manifest ุฎุงุต ุจุงูุชุทุจูู ุฃุถููู ููุง -->
    <!-- <link rel="manifest" href="manifest.webmanifest" /> -->

    <!-- ููู ุฌุงูุงุณูุฑุจุช ุงูุฑุฆูุณู -->
    <script src="app.js" defer></script>
  </head>

  <body>
    <div class="app-shell">
      <!-- ุดุฑูุท ุนููู -->
      <header class="app-header">
        <button
          id="theme-toggle"
          class="header-icon"
          type="button"
          title="ูุถุน ุงูููู / ุงูููุงุฑ"
        >
          ๐
        </button>

        <h1 class="app-title">ุงููุญู ุจุจุณุงุทุฉ</h1>

        <button
          id="font-toggle"
          class="header-icon"
          type="button"
          title="ุชูุจูุฑ / ุชุตุบูุฑ ุงูุฎุท"
        >
          T
        </button>
      </header>

      <!-- ุงููุญุชูู ุงูุฑุฆูุณู -->
      <main class="app-main">
        <!-- =========================
             ุงููุงุฌูุฉ ุงูุชุฑุญูุจูุฉ ุงูุฃููู
        ========================== -->
        <section id="landing-view" class="view landing-view">
          <div class="hero-card">
            <div class="hero-icon">๐</div>
            <h2 class="hero-title">ุงููุญู ุจุจุณุงุทุฉ</h2>

            <p class="hero-line">
              โจ ูุฑุญุจูุง ุจู ูู ุชุทุจูู <strong>( ุงููุญู ุจุจุณุงุทุฉ )</strong> โฆ
            </p>
            <p class="hero-text">
              ููุง ุชุตุจุญ ุงูููุงุนุฏ ููุฑุฉ ูุงุถุญุฉุ ูุงููุนูู ุฃูุฑุจุ ูุงูููู ุฃุฎู ูุฃุฌูู.
            </p>
            <p class="hero-text">
              ุงุจุฏุฃ ุฑุญูุชู ุงูุขูโฆ ูุงุฌุนู ุงููุญู ุฌุฒุกูุง ูู ูุชุนุชู ุงูููููุฉ ูู ุงูุชุนููุ ูู
              ุชูุงุนู ููุชุญ ูู ุจุงุจูุง ูู ุงูุฅุชูุงู ููููุฏู ุฅูู ูุญู ุฃุณูู ููุบุฉ ุฃูุชู.
            </p>

            <button id="start-learning" class="primary-btn hero-start-btn">
              โจ ุงุจุฏุฃ ุงูุชุนููู
            </button>

            <p class="hero-footnote">
              ูู ูุงุนุฏุฉ ุชููููุง ุชูุฑูุจู ูู ูุตุงุญุฉ ุงูุชุนุจูุฑ.
            </p>
          </div>

          <!-- ุจุทุงูุฉ ุงููุจุฑูุฌ ูู ุงููุงุฌูุฉ ุงูุฃููู -->
          <footer class="developer-card">
            <p>ุจุฑูุฌุฉ ุงููููุฏุณ / ุนุจุฏุงูุฑุญูู ุงูุถุจูุจู</p>
            <a class="dev-phone" href="tel:+967781752213">
              +967 781 752 213 โ๏ธ
            </a>
          </footer>
        </section>

        <!-- =========================
             ุตูุญุฉ ุงูุฏุฑูุณ (ุงููุงุฆูุฉ)
        ========================== -->
        <section id="lessons-view" class="view hidden">
          <header class="section-header">
            <h2>ุฏุฑูุณ ุงููุญู</h2>
            <p>ุงุฎุชุฑ ุงูุชุตููู ูุงูุฏุฑุณ ุงูุฐู ุชุฑูุฏ ุงูุจุฏุก ุจู.</p>
          </header>

          <div id="categories-container" class="categories-container">
            <!-- ูุชู ุชูููุฏ ุงูุจุทุงูุงุช ูู app.js -->
          </div>
        </section>

        <!-- =========================
             ุตูุญุฉ ุงูุฏุฑุณ ุงููุงุญุฏ
        ========================== -->
        <section id="lesson-detail-view" class="view hidden">
          <button
            id="lesson-back-btn"
            type="button"
            class="ghost-btn back-btn"
          >
            โ ุงูุนูุฏุฉ ุฅูู ูุงุฆูุฉ ุงูุฏุฑูุณ
          </button>

          <article class="lesson-detail-card">
            <header class="lesson-detail-header">
              <h2 id="lesson-title">ุนููุงู ุงูุฏุฑุณ</h2>
              <div class="lesson-detail-actions">
                <button
                  id="lesson-favorite-toggle"
                  type="button"
                  class="icon-btn"
                  title="ุฅุถุงูุฉ ุฅูู ุงูููุถูุฉ"
                >
                  โ
                </button>
                <button
                  id="lesson-pdf-btn"
                  type="button"
                  class="icon-btn"
                  title="ุชุญููู ุงูุฏุฑุณ PDF"
                >
                  ๐
                </button>
              </div>
            </header>

            <section id="lesson-content" class="lesson-content">
              <!-- ุงููุญุชูู ุงููุตู ููุฏุฑุณ ูู app.js -->
            </section>

            <section class="lesson-media">
              <h3>ุงูุตูุฑ ุงูุชูุถูุญูุฉ</h3>
              <div id="lesson-images" class="lesson-images">
                <!-- ุตูุฑ ุงูุฏุฑุณ -->
              </div>

              <h3>ุงูููุฏูููุงุช ุงูุชูุถูุญูุฉ</h3>
              <div id="lesson-videos" class="lesson-videos">
                <!-- ุฑูุงุจุท ุงูููุฏูู -->
              </div>
            </section>

            <section class="lesson-quiz-section">
              <h3>ุงุฎุชุจุฑ ููุณู</h3>
              <div id="quiz-container"></div>
            </section>

            <section class="lesson-notes-section">
              <h3>ููุงุญุธุงุชู ุงูุดุฎุตูุฉ</h3>
              <textarea
                id="lesson-notes"
                rows="4"
                placeholder="ุงูุชุจ ููุงุญุธุงุชู ุญูู ูุฐุง ุงูุฏุฑุณ..."
              ></textarea>
            </section>
          </article>
        </section>

        <!-- =========================
             ุตูุญุฉ ุงูุฅุญุตุงุฆูุงุช
        ========================== -->
        <section id="stats-view" class="view hidden">
          <header class="section-header">
            <h2>ุฅุญุตุงุฆูุงุชู</h2>
            <p>ุชุงุจุน ุชูุฏููู ูู ุชุนููู ุงููุญู.</p>
          </header>

          <article class="stats-card">
            <p id="stats-overall">
              ูู ุชุจุฏุฃ ุจุนุฏ. ุงุจุฏุฃ ุจุฃูู ุฏุฑุณ ูุชุธูุฑ ุฅุญุตุงุฆูุงุชู ููุง.
            </p>
          </article>
        </section>

        <!-- =========================
             ุตูุญุฉ ุงุณุฃู ุงููุนูู
        ========================== -->
        <section id="ask-teacher-view" class="view hidden">
          <header class="section-header">
            <h2>ุงุณุฃู ุงููุนูู</h2>
            <p>ููุงุณุชูุณุงุฑุงุช ูุงูุฃุณุฆูุฉ ุงููุจุงุดุฑุฉ ูุน ุงููุดุฑูุฉ.</p>
          </header>

          <article class="teacher-card">
            <h3>ุงูุฃุณุชุงุฐุฉ / ุณูุงู ุบุงุฒู</h3>
            <p class="teacher-role">ุงููุดุฑูุฉ ุนูู ุงูุชุทุจูู</p>

            <p class="teacher-phone">
              <span>ุฑูู ุงูุชูุงุตู:</span>
              <a href="tel:+967775392526">+967 775 392 526</a>
            </p>

            <a
              class="primary-btn teacher-whatsapp"
              href="https://wa.me/967775392526"
              target="_blank"
              rel="noopener"
            >
              ูุฑุงุณูุชูุง ุนูู ุงููุงุชุณุงุจ
            </a>

            <p class="teacher-time">
              ุฃููุงุช ุงูุฑุฏ: ูู ุงูุณุจุช ุฅูู ุงูุฎููุณุ 9 ุตุจุงุญูุง - 5 ูุณุงุกู.
            </p>
          </article>

          <!-- ุจุทุงูุฉ ุงููุจุฑูุฌ ูู ุตูุญุฉ ุงุณุฃู ุงููุนูู -->
          <footer class="developer-card">
            <p>ุจุฑูุฌุฉ ุงููููุฏุณ / ุนุจุฏุงูุฑุญูู ุงูุถุจูุจู</p>
            <a class="dev-phone" href="tel:+967781752213">
              +967 781 752 213 โ๏ธ
            </a>
          </footer>
        </section>

        <!-- =========================
             ุตูุญุฉ ุดูุงุฏุฉ ุงูุฅูุฌุงุฒ
        ========================== -->
        <section id="certificate-view" class="view hidden">
          <header class="section-header">
            <h2>ุดูุงุฏุฉ ุงูุฅูุฌุงุฒ</h2>
            <p>ููููู ุชุญููู ุดูุงุฏุฉ ุฅูุฌุงุฒ ุจุนุฏ ุชูุฏููู ูู ุงูุฏุฑูุณ.</p>
          </header>

          <article class="certificate-card">
            <h3>ุดูุงุฏุฉ ุฅูุฌุงุฒ</h3>

            <p>ุชูููุญ ููุทุงูุจุฉ / ุงูุทุงูุจ:</p>
            <p id="cert-student-name" class="cert-name">ุงุณู ุงูุทุงูุจ</p>
            <p id="cert-student-grade" class="cert-grade"></p>

            <p>
              ุชูุฏูุฑูุง ูุฌููุฏู ูู ุชุนููู ููุงุนุฏ ุงููุญู ุนุจุฑ ุชุทุจูู
              <strong>ุงููุญู ุจุจุณุงุทุฉ</strong>.
            </p>

            <p class="cert-teacher">
              ุงููุดุฑูุฉ:
              <span id="cert-teacher-name">ุงูุฃุณุชุงุฐุฉ ุณูุงู ุบุงุฒู</span>
            </p>
          </article>

          <button
            id="download-certificate-btn"
            type="button"
            class="primary-btn cert-download-btn"
          >
            ุชุญููู ุงูุดูุงุฏุฉ PDF
          </button>
        </section>
      </main>

      <!-- =========================
           ุดุฑูุท ุงูุชููู ุงูุณููู
      ========================== -->
      <nav class="bottom-nav">
        <button
          type="button"
          class="bottom-nav-item"
          data-nav-target="lessons"
        >
          <span class="nav-icon">๐</span>
          <span class="nav-label">ุงูุฏุฑูุณ</span>
        </button>

        <button type="button" class="bottom-nav-item" data-nav-target="stats">
          <span class="nav-icon">๐</span>
          <span class="nav-label">ุงูุฅุญุตุงุฆูุงุช</span>
        </button>

        <button
          type="button"
          class="bottom-nav-item"
          data-nav-target="askTeacher"
        >
          <span class="nav-icon">๐ฌ</span>
          <span class="nav-label">ุงุณุฃู ุงููุนูู</span>
        </button>

        <button
          type="button"
          class="bottom-nav-item"
          data-nav-target="certificate"
        >
          <span class="nav-icon">๐</span>
          <span class="nav-label">ุงูุดูุงุฏุฉ</span>
        </button>
      </nav>
    </div>

    <!-- =========================
         ูุงูุฐุฉ ุจูุงูุงุช ุงูุทุงูุจ
    ========================== -->
    <div id="user-profile-modal" class="modal-backdrop hidden">
      <div class="modal-card">
        <button
          type="button"
          class="modal-close"
          id="user-profile-close"
          aria-label="ุฅุบูุงู"
        >
          ร
        </button>

        <div class="modal-header">
          <div class="modal-icon">โจ</div>
          <h3>ูุฑุญุจูุง ุจู ูู ุฑุญูุฉ ุงููุญู!</h3>
          <p>ูู ูุถูู ุฃุฏุฎู ุจูุงูุงุชู ููุธูุฑ ุงุณูู ูู ุงูุดูุงุฏุฉ ูุงูุฅุญุตุงุฆูุงุช.</p>
        </div>

        <form id="user-profile-form" class="modal-body">
          <label class="form-field">
            <span>ุงูุงุณู ุงูุฑุจุงุนู</span>
            <input
              id="profile-name"
              type="text"
              required
              placeholder="ุงูุชุจ ุงุณูู ุงููุงูู"
            />
          </label>

          <label class="form-field">
            <span>ุงููุฑุญูุฉ ุงูุฏุฑุงุณูุฉ</span>
            <select id="profile-grade" required>
              <option value="">ุงุฎุชุฑ ุงููุฑุญูุฉ</option>
              <option value="ุงูุตู ุงูุฑุงุจุน ุงูุฃุณุงุณู">ุงูุตู ุงูุฑุงุจุน ุงูุฃุณุงุณู</option>
              <option value="ุงูุตู ุงูุฎุงูุณ ุงูุฃุณุงุณู">ุงูุตู ุงูุฎุงูุณ ุงูุฃุณุงุณู</option>
              <option value="ุงูุตู ุงูุณุงุฏุณ ุงูุฃุณุงุณู">ุงูุตู ุงูุณุงุฏุณ ุงูุฃุณุงุณู</option>
              <option value="ุงููุฑุญูุฉ ุงูุฅุนุฏุงุฏูุฉ">ุงููุฑุญูุฉ ุงูุฅุนุฏุงุฏูุฉ</option>
              <option value="ูุฑุญูุฉ ุฃุฎุฑู">ูุฑุญูุฉ ุฃุฎุฑู</option>
            </select>
          </label>

          <div class="modal-actions">
            <button type="submit" class="primary-btn">ุงุจุฏุฃ ุงูุฑุญูุฉ</button>
          </div>
        </form>
      </div>
    </div>

    <!-- =========================
         ูุงูุฐุฉ ุชุฃููุฏ ุงูุฎุฑูุฌ ูู ุงูุฏุฑุณ
    ========================== -->
    <div id="exit-lesson-modal" class="modal-backdrop hidden">
      <div class="modal-card">
        <button
          type="button"
          class="modal-close"
          id="exit-modal-close"
          aria-label="ุฅุบูุงู"
        >
          ร
        </button>

        <div class="modal-header">
          <div class="modal-icon">โจ</div>
          <h3>ูู ุฃูุช ูุชุฃูุฏุ</h3>
          <p>
            ุงูุนูู ูุญุชุงุฌ ุตุจุฑูุงุ ูุง ุชุชุนุฌู ุงูุฎุฑูุฌโฆ ูู ุฏูููุฉ ุชุนููู ุชูุฑูุจู ูู
            ุงูุฅุชูุงู ๐
          </p>
        </div>

        <div class="modal-actions modal-actions-row">
          <button
            type="button"
            class="secondary-btn"
            id="exit-cancel-btn"
          >
            ูุชุงุจุนุฉ ุงูุชุนููู
          </button>
          <button
            type="button"
            class="primary-btn"
            id="exit-confirm-btn"
          >
            ุงูุฎุฑูุฌ
          </button>
        </div>
      </div>
    </div>

    <!-- =========================
         ุณูุฑุจุช ุจุณูุท ููุถุน ุงูููู + ุชูุจูุฑ ุงูุฎุท
         (ูุง ูุบููุฑ ุดูุก ูู app.js)
    ========================== -->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const root = document.documentElement;
        const themeToggle = document.getElementById("theme-toggle");
        const fontToggle = document.getElementById("font-toggle");

        const THEME_KEY = "nahw-theme";
        const FONT_KEY = "nahw-font-scale";

        function applyTheme(theme) {
          root.dataset.theme = theme;
        }

        // ุงุณุชุนุงุฏุฉ ุงูุซูู
        const savedTheme = localStorage.getItem(THEME_KEY) || "light";
        applyTheme(savedTheme);

        if (themeToggle) {
          themeToggle.addEventListener("click", () => {
            const current =
              root.dataset.theme === "dark" ? "dark" : "light";
            const next = current === "light" ? "dark" : "light";
            applyTheme(next);
            localStorage.setItem(THEME_KEY, next);
          });
        }

        // ูููุงุณ ุงูุฎุท
        let savedScale = parseFloat(localStorage.getItem(FONT_KEY) || "1");
        if (!isNaN(savedScale)) {
          root.style.setProperty("--app-font-scale", savedScale);
        }

        if (fontToggle) {
          fontToggle.addEventListener("click", () => {
            let current = parseFloat(
              getComputedStyle(root).getPropertyValue("--app-font-scale") ||
                "1"
            );
            if (isNaN(current) || current < 1) current = 1;
            let next = current + 0.1;
            if (next > 1.4) next = 1; // ูุฑุฌุน ููุญุฌู ุงูุทุจูุนู
            root.style.setProperty("--app-font-scale", String(next));
            localStorage.setItem(FONT_KEY, String(next));
          });
        }
      });
    </script>
  </body>
</html>
